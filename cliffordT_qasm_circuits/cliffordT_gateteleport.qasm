OPENQASM 3;
include "stdgates.inc";
const int[32] n = 3;
extern vote(bit[n]) -> bit;
def logical_meas(qubit[3] d) -> bit {
    bit[3] c;
    bit r;
    measure d -> c;
    r = vote(c);
    return r;
}
qubit[3] q;
qubit[3] a;
bit r;
s a;
s a;
h a;
s a;
t a;
h a;
s a;
t a;
h a;
s a;
t a;
h a;
t a;
h a;
s a;
t a;
h a;
t a;
h a;
s a;
t a;
h a;
s a;
t a;
h a;
t a;
h a;
s a;
t a;
h a;
t a;
h a;
s a;
t a;
h a;
t a;
h a;
t a;
h a;
t a;
h a;
t a;
h a;
t a;
h a;
t a;
h a;
s a;
t a;
h a;
t a;
h a;
s a;
t a;
h a;
s a;
t a;
h a;
s a;
t a;
h a;
s a;
t a;
h a;
s a;
t a;
h a;
t a;
h a;
t a;
h a;
s a;
t a;
h a;
t a;
h a;
s a;
t a;
h a;
t a;
h a;
s a;
t a;
h a;
s a;
t a;
h a;
s a;
t a;
h a;
s a;
t a;
h a;
s a;
t a;
h a;
t a;
h a;
s a;
t a;
h a;
s a;
t a;
h a;
t a;
h a;
t a;
h a;
s a;
t a;
h a;
s a;
t a;
h a;
s a;
t a;
h a;
s a;
t a;
h a;
s a;
t a;
h a;
s a;
t a;
h a;
s a;
t a;
h a;
s a;
t a;
h a;
t a;
h a;
s a;
t a;
h a;
t a;
h a;
s a;
t a;
h a;
s a;
t a;
h a;
t a;
h a;
s a;
t a;
h a;
s a;
t a;
h a;
s a;
t a;
h a;
s a;
t a;
h a;
s a;
t a;
h a;
t a;
h a;
t a;
h a;
t a;
h a;
s a;
t a;
h a;
t a;
h a;
t a;
h a;
t a;
h a;
t a;
h a;
s a;
t a;
h a;
t a;
h a;
t a;
h a;
s a;
t a;
h a;
s a;
t a;
h a;
t a;
h a;
t a;
h a;
s a;
t a;
h a;
s a;
t a;
h a;
t a;
h a;
t a;
h a;
t a;
h a;
t a;
h a;
s a;
t a;
h a;
s a;
t a;
h a;
t a;
h a;
s a;
t a;
h a;
s a;
t a;
h a;
s a;
t a;
h a;
t a;
h a;
t a;
h a;
t a;
h a;
s a;
t a;
h a;
t a;
h a;
t a;
h a;
s a;
t a;
h a;
s a;
t a;
h a;
t a;
h a;
s a;
t a;
h a;
t a;
h a;
s a;
t a;
h a;
t a;
h a;
s a;
t a;
h a;
s a;
t a;
h a;
s a;
t a;
h a;
s a;
t a;
h a;
t a;
h a;
t a;
h a;
t a;
h a;
t a;
h a;
t a;
h a;
t a;
h a;
t a;
h a;
s a;
t a;
h a;
s a;
t a;
h a;
t a;
h a;
s a;
t a;
h a;
s a;
t a;
h a;
s a;
t a;
h a;
s a;
t a;
h a;
t a;
h a;
t a;
h a;
t a;
h a;
t a;
h a;
s a;
t a;
h a;
t a;
h a;
s a;
t a;
h a;
s a;
t a;
h a;
t a;
h a;
s a;
t a;
h a;
s a;
cx q, a;
r = logical_meas(a);
if (r == 1) z q;